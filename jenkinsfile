pipeline {
    agent any

  

    stages {
        stage ('Git Checkout') {
        steps {
          git branch: 'main', url: 'https://github.com/mo-ibrahim97/Dockerize-_.NET_-Application.git'
        }
         
           
        }
     stage('CI') {
            steps {
                // docker build 
                withCredentials([usernamePassword(credentialsId: '0d38a0aa-7a52-4941-a134-5383af4daf0c', passwordVariable: 'password', usernameVariable: 'username')]) {


                  
               sh ''' docker build . -t mohamedebrahim979777/jenkines_02:v$BUILD_NUMBER
                      docker login -u ${username} -p ${password}        
                      docker push  mohamedebrahim979777/jenkines_02:v$BUILD_NUMBER
                      

               ''' 

            }

            }  
        }
       




    }


}
